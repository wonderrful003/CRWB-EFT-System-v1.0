<!-- dashboard.html (System Admin Dashboard) -->
{% extends 'base.html' %}

{% block title %}System Admin Dashboard{% endblock %}

{% block page_title %}System Admin Dashboard{% endblock %}

{% block breadcrumbs %}
<li class="breadcrumb-item active">Dashboard</li>
{% endblock %}

{% block sidebar_menu %}
<!-- UPDATE: Change admin URLs to system-admin URLs -->
<li><a href="{% url 'admin_dashboard' %}" class="active"><i class="fas fa-home"></i> <span>Dashboard</span></a></li>
<li><a href="{% url 'user_list' %}"><i class="fas fa-users"></i> <span>Users</span></a></li>
<li><a href="{% url 'bank_list' %}"><i class="fas fa-university"></i> <span>Banks</span></a></li>
<li><a href="{% url 'zone_list' %}"><i class="fas fa-map-marker-alt"></i> <span>Zones</span></a></li>
<li><a href="{% url 'scheme_list' %}"><i class="fas fa-project-diagram"></i> <span>Schemes</span></a></li>
<li><a href="{% url 'supplier_list' %}"><i class="fas fa-truck"></i> <span>Suppliers</span></a></li>
<li><a href="{% url 'debit_account_list' %}"><i class="fas fa-credit-card"></i> <span>Debit Accounts</span></a></li>
{% endblock %}

{% block content %}
<!-- Statistics Cards -->
<div class="row mb-4">
    <div class="col-md-4 col-sm-6 mb-3">
        <div class="dashboard-card">
            <div class="card-body stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #30cfd0 0%, #330867 100%);">
                    <i class="fas fa-user-shield text-white"></i>
                </div>
                <div class="stat-number text-secondary">{{ stats.users_count }}</div>
                <div class="stat-label">System Users</div>
                <!-- UPDATE: URL here -->
                <a href="{% url 'user_list' %}" class="btn btn-sm btn-outline-secondary mt-3">
                    <i class="fas fa-eye"></i> Manage Users
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-3">
        <div class="dashboard-card">
            <div class="card-body stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                    <i class="fas fa-university text-white"></i>
                </div>
                <div class="stat-number text-primary">{{ stats.banks_count }}</div>
                <div class="stat-label">Banks</div>
                <!-- UPDATE: URL here -->
                <a href="{% url 'bank_list' %}" class="btn btn-sm btn-outline-primary mt-3">
                    <i class="fas fa-eye"></i> View All
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-3">
        <div class="dashboard-card">
            <div class="card-body stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);">
                    <i class="fas fa-truck text-white"></i>
                </div>
                <div class="stat-number text-danger">{{ stats.suppliers_count }}</div>
                <div class="stat-label">Suppliers</div>
                <!-- UPDATE: URL here -->
                <a href="{% url 'supplier_list' %}" class="btn btn-sm btn-outline-danger mt-3">
                    <i class="fas fa-eye"></i> View All
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-3">
        <div class="dashboard-card">
            <div class="card-body stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);">
                    <i class="fas fa-map-marker-alt text-white"></i>
                </div>
                <div class="stat-number text-info">{{ stats.zones_count }}</div>
                <div class="stat-label">Zones</div>
                <!-- UPDATE: URL here -->
                <a href="{% url 'zone_list' %}" class="btn btn-sm btn-outline-info mt-3">
                    <i class="fas fa-eye"></i> View All
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-3">
        <div class="dashboard-card">
            <div class="card-body stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);">
                    <i class="fas fa-project-diagram text-white"></i>
                </div>
                <div class="stat-number text-success">{{ stats.schemes_count }}</div>
                <div class="stat-label">Schemes</div>
                <!-- UPDATE: URL here -->
                <a href="{% url 'scheme_list' %}" class="btn btn-sm btn-outline-success mt-3">
                    <i class="fas fa-eye"></i> View All
                </a>
            </div>
        </div>
    </div>

    <div class="col-md-4 col-sm-6 mb-3">
        <div class="dashboard-card">
            <div class="card-body stat-card">
                <div class="stat-icon" style="background: linear-gradient(135deg, #fa709a 0%, #fee140 100%);">
                    <i class="fas fa-credit-card text-white"></i>
                </div>
                <div class="stat-number text-warning">{{ stats.debit_accounts_count }}</div>
                <div class="stat-label">Debit Accounts</div>
                <!-- UPDATE: URL here -->
                <a href="{% url 'debit_account_list' %}" class="btn btn-sm btn-outline-warning mt-3">
                    <i class="fas fa-eye"></i> View All
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Quick Actions -->
<div class="row">
    <div class="col-lg-6 mb-4">
        <div class="dashboard-card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-bolt text-warning"></i> Quick Actions
                </h5>
            </div>
            <div class="card-body">
                <div class="d-grid gap-2">
                    <!-- UPDATE: All URLs here -->
                    <a href="{% url 'user_create' %}" class="btn btn-outline-secondary btn-action">
                        <i class="fas fa-user-plus"></i> Add New User
                    </a>
                    <a href="{% url 'bank_add' %}" class="btn btn-outline-primary btn-action">
                        <i class="fas fa-plus-circle"></i> Add New Bank
                    </a>
                    <a href="{% url 'zone_add' %}" class="btn btn-outline-info btn-action">
                        <i class="fas fa-plus-circle"></i> Add New Zone
                    </a>
                    <a href="{% url 'scheme_add' %}" class="btn btn-outline-success btn-action">
                        <i class="fas fa-plus-circle"></i> Add New Scheme
                    </a>
                    <a href="{% url 'supplier_add' %}" class="btn btn-outline-danger btn-action">
                        <i class="fas fa-plus-circle"></i> Add New Supplier
                    </a>
                    <a href="{% url 'debit_account_add' %}" class="btn btn-outline-warning btn-action">
                        <i class="fas fa-plus-circle"></i> Add New Debit Account
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="col-lg-6 mb-4">
        <div class="dashboard-card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-info-circle text-info"></i> System Information
                </h5>
            </div>
            <div class="card-body">
                <table class="table table-sm">
                    <tr>
                        <td><i class="fas fa-server text-primary"></i> <strong>System Status:</strong></td>
                        <td><span class="badge bg-success">Online</span></td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-database text-info"></i> <strong>Database:</strong></td>
                        <td>SQLite3</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-code-branch text-warning"></i> <strong>Version:</strong></td>
                        <td>1.0.0</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-shield-alt text-success"></i> <strong>Security:</strong></td>
                        <td><span class="badge bg-success">Encrypted</span></td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-clock text-secondary"></i> <strong>Last Backup:</strong></td>
                        <td>Not configured</td>
                    </tr>
                    <tr>
                        <td><i class="fas fa-user text-primary"></i> <strong>Your Role:</strong></td>
                        <td><span class="badge bg-primary">System Administrator</span></td>
                    </tr>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Recent Activity -->
<div class="row">
    <div class="col-12">
        <div class="dashboard-card">
            <div class="card-header">
                <h5 class="mb-0">
                    <i class="fas fa-history text-success"></i> Recent System Activity
                </h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <i class="fas fa-info-circle"></i> Activity logging will be implemented in the next version.
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.stat-card {
    text-align: center;
    padding: 2rem 1rem;
}
.stat-icon {
    width: 70px;
    height: 70px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 1rem;
    font-size: 2rem;
}
.stat-number {
    font-size: 2.5rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}
.stat-label {
    color: #666;
    font-size: 1rem;
    font-weight: 500;
}
.btn-action {
    text-align: left;
    padding: 0.75rem 1rem;
    font-weight: 500;
}
</style>
{% endblock %}